<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<script type='text/javascript' src='../doc.js'></script>
</head>
<body>
<h1>pn.js</h1>

<h2>Dynamic scripts and stylesheets</h2>

<table class="code_doc">
<tr>
	<td>
		pn.add_javascript(url, onload)
	</td>
	<td>
		Load a new javascript file from <code>url</code>. If <code>onload</code> is specified, it is called as soon as the script is loaded.<br/>
		If the script was already loaded, <code>onload</code> is immediately called.<br/>
		This allows to do not load everything with the page, but to load dynamically parts of the javascript, and continue execution as soon as the needed script are loaded.
	</td>
</tr>
<tr>
	<td>
		pn.add_stylesheet(url)
	</td>
	<td>
		Load a new stylesheet file from <code>url</code>
	</td>
</tr>
</table>
<br/>

<h2>Dialogs</h2>

<table class="code_doc">
<tr>
	<td>
		pn.error_dialog(message)
	</td>
	<td>
		Display a popup with the given error <code>message</code>.
	</td>
</tr>
<tr>
	<td>
		pn.confirm_dialog(message, handler)
	</td>
	<td>
		Ask confirmation from the user: display a popup with the given <code>message</code>, and buttons <i>Yes</i> and <i>No</i>.<br/>
		<code>handler</code> is called with a parameter set to <code>true</code> if the user answers <i>Yes</i>, or set to <code>false</code> if the user answers <i>No</i> or close the popup without answering.
	</td>
</tr>
<tr>
	<td>
		pn.input_dialog(<br/>
		&nbsp; icon,<br/>
		&nbsp; title,<br/>
		&nbsp; message,<br/>
		&nbsp; default_value,<br/>
		&nbsp; max_length,<br/>
		&nbsp; validation_handler,<br/>
		&nbsp; ok_handler<br/>
		)
	</td>
	<td>
		Display a popup, asking to enter a value.<br/>
		The popup will have the given <code>icon</code> and <code>title</code> in its title bar.<br/>
		The <code>message</code> will be displayed inside the popup, before the area where the user can enter the requested value.<br/>
		The <code>default_value</code> will be already entered when the popup is displayed.<br/>
		<code>max_length</code> specifies the maximum number of characters the user can enter for the requested value.<br/>
		If specified, <code>validation_handler</code> is called each time the user change the value. <code>validation_handler</code> should return a string or <code>null</code>: if it returns a string, this string will be displayed as an error message, to inform the user the value currently entered is invalid, and the <i>Ok</i> button will be disabled. If it returns <code>null</code> no error message will be displayed, and the <i>Ok</i> button will be enabled.<br/>
		If the user clicks on the <i>Ok</i> button, <code>ok_handler</code> will be called with the value entered by the user as parameter, and the popup will be closed.
	</td>
</tr>
<tr>
	<td>
		pn.close_this_popup()
	</td>
	<td>
		This method must be used when we are in a IFRAME, inside a popup. This is a convenient method to allow closing the popup containing the current IFRAME.
	</td>
</tr>
<tr>
	<td>
		pn.lock_screen(onclick, content)
	</td>
	<td>
		This method create an element, semi-transparent, which will cover all the current frame.<br/>
		The purpose of it is to avoid the user to do any action while doing some processing.<br/>
		The created element is returned by this method, and can be used with method <code>unlock_screen</code>.<br/>
		If the user clicks on this element, <code>onclick</code> will be called (if specified).<br/>
		If specified, <code>content</code> will be inserted in the center of the created element (for example to display a message like &quot;Loading&quot;).
	</td>
</tr>
<tr>
	<td>
		pn.unlock_screen(div)
	</td>
	<td>
		This method remove the element <code>div</code> previously created by the method <code>pn.lock_screen</code>.
	</td>
</tr>
</table>
<br/>

<h2>AJAX Service</h2>

<table class="code_doc">
<tr>
	<td>
		pn.ajax_service_xml(url,data,handler,foreground)
	</td>
	<td>
		Send an AJAX request to the given <code>url</code>, and expect a result in XML format.<br/>
		It will use POST method, and send the given <code>data</code>. If <code>data</code> is a string, it will be sent as it is, if it is an object, it will convert it into a <i>form encoded</i> string.<br/>
		When the result is received, the <code>handler</code> is called with the received XML response as parameter.<br/>
		If an error occured, or the XML response contains error messages, the errors are displayed to the user, and <code>handler</code> is call with <code>null</code> as parameter.<br/>
		If <code>foreground</code> is specified and set to <code>true</code>, the browser will be blocked until the response is received. Else the user can continue to interact, while we are waiting for the answer.
	</td>
</tr>
<tr>
	<td>
		pn.ajax_service_json(url,data,handler,foreground)
	</td>
	<td>
		This method is the same as <code>pn.ajax_service_xml</code> except it expects a result in JSON format.
	</td>
</tr>
</table>
<br/>

</body>
</html>
